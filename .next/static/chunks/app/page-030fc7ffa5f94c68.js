(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3656:function(e,t,r){Promise.resolve().then(r.bind(r,6117))},1519:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return i},a:function(){return l}});var s=r(7437),c=r(2265);let a=(0,c.createContext)(void 0),n={notifyResurfacingHours:6};function o(e){return"crt_settings_".concat(e)}let i=e=>{let{children:t}=e,[r,i]=(0,c.useState)(null),[l,u]=(0,c.useState)(n);(0,c.useEffect)(()=>{try{let e=localStorage.getItem("crt_user");if(e){let t=JSON.parse(e);i(t);let r=localStorage.getItem(o(t.id));r&&u({...n,...JSON.parse(r)})}}catch(e){}},[]),(0,c.useEffect)(()=>{try{r&&localStorage.setItem(o(r.id),JSON.stringify(l))}catch(e){}},[r,l]);let g=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"creator",s=JSON.parse(localStorage.getItem("crt_users")||"[]"),c=s.find(t=>t.email===e),a=c||{id:"user_".concat(Math.random().toString(36).slice(2,9)),name:t||e.split("@")[0],email:e,role:r};c||localStorage.setItem("crt_users",JSON.stringify([...s,a])),i(a),localStorage.setItem("crt_user",JSON.stringify(a));try{document.cookie="crt_user=".concat(encodeURIComponent(JSON.stringify(a)),"; path=/")}catch(e){}let l=localStorage.getItem(o(a.id));u(l?{...n,...JSON.parse(l)}:n)},d=(e,t,r)=>{let s={id:"user_".concat(Math.random().toString(36).slice(2,9)),name:e,email:t,role:r},c=JSON.parse(localStorage.getItem("crt_users")||"[]");localStorage.setItem("crt_users",JSON.stringify([...c,s])),localStorage.setItem("crt_user",JSON.stringify(s)),localStorage.setItem(o(s.id),JSON.stringify(n)),i(s),u(n);try{document.cookie="crt_user=".concat(encodeURIComponent(JSON.stringify(s)),"; path=/")}catch(e){}},f=(e,t,r)=>{let s={id:"user_".concat(Math.random().toString(36).slice(2,9)),name:e,email:t,role:r},c=JSON.parse(localStorage.getItem("crt_users")||"[]");localStorage.setItem("crt_users",JSON.stringify([...c,s]))},S=()=>{i(null),localStorage.removeItem("crt_user");try{document.cookie="crt_user=; Max-Age=0; path=/"}catch(e){}},m=e=>{u(t=>({...t,notifyResurfacingHours:e}))},h=()=>{try{return JSON.parse(localStorage.getItem("crt_users")||"[]")}catch(e){return[]}},N=(e,t)=>{try{let r=h().map(r=>r.id===e?{...r,role:t}:r);localStorage.setItem("crt_users",JSON.stringify(r));let s=JSON.parse(localStorage.getItem("crt_user")||"null");if(s&&s.id===e){let e={...s,role:t};localStorage.setItem("crt_user",JSON.stringify(e)),i(e)}}catch(e){}},_=(0,c.useMemo)(()=>({user:r,settings:l,login:g,signup:d,logout:S,setNotifyResurfacingHours:m,listUsers:h,setUserRole:N,inviteUser:f}),[r,l]);return(0,s.jsx)(a.Provider,{value:_,children:t})};function l(){let e=(0,c.useContext)(a);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},6117:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var s=r(7437);r(2265);var c=r(7648),a=r(1519);function n(){let{user:e}=(0,a.a)();return(0,s.jsxs)("main",{className:"p-8 space-y-3",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Creative Rights & Revenue Tracker"}),(0,s.jsx)("p",{children:"Your app is running."}),(0,s.jsxs)("div",{className:"space-x-4",children:[(0,s.jsx)(c.default,{href:"/dashboard",className:"text-blue-600 underline",children:"Go to Dashboard"}),!e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.default,{href:"/login",className:"text-blue-600 underline",children:"Login"}),(0,s.jsx)(c.default,{href:"/signup",className:"text-blue-600 underline",children:"Sign up"})]})]})]})}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=3656)}),_N_E=e.O()}]);